# yomitan_sqlite_translator

Инструкция (потом будет Markdown, under construction)

клон репо, закинуть в папку zip словаря, запустить `python process.py [имя словаря`. получили sqlite. потом редактируем через nano translate.sh, посмотри там настройки. 
задаём API (см gem-cli-curl в моем гитхабе). запускаем скрипт. потом надо будет перевести в yomitan – `python reverse.py dict.db -o Dict.zip`

НЕЙРО README (тест)


# Yomitan SQLite Translator

Набор скриптов для пакетного перевода словарных статей в словарях формата **Yomitan / Yomichan** с использованием AI (например, Google Gemini API).

## Как это работает?

Процесс состоит из трех основных этапов:

1.  **Декомпиляция**: Исходный ZIP-архив словаря Yomitan распаковывается в базу данных SQLite. Это позволяет удобно работать с каждой словарной статьей как с отдельной записью в таблице.
2.  **Перевод**: Специальный скрипт (`translate.sh`) проходит по записям в базе данных и отправляет их на перевод через API выбранного AI-сервиса. Результат сохраняется обратно в базу данных.
3.  **Компиляция**: Обновленная база данных SQLite с переведенными статьями собирается обратно в ZIP-архив, готовый для импорта в Yomitan.

## Требования

*   **Python 3.x**
*   **Git** (для клонирования репозитория)
*   **API-ключ** от сервиса для перевода (например, от [Google AI Studio](https://aistudio.google.com/app/apikey) для использования Gemini).

## Пошаговое руководство

### Шаг 1: Подготовка

Сначала клонируйте репозиторий на свой компьютер.

```bash
git clone https://github.com/ваш-логин/yomitan_sqlite_translator.git
cd yomitan_sqlite_translator
```

### Шаг 2: Конвертация Yomitan ZIP в SQLite

1.  Поместите ваш исходный `.zip` файл словаря (например, `jmdict_english.zip`) в папку проекта.
2.  Запустите скрипт `process.py`, указав имя вашего архива:

    ```bash
    python process.py jmdict_english.zip
    ```
    
    После выполнения этой команды в папке появится файл базы данных `dict.db` (или с другим именем, в зависимости от настроек скрипта).

### Шаг 3: Настройка и запуск перевода

1.  Откройте файл `translate.sh` в любом текстовом редакторе (например, `nano` или VS Code).
2.  Найдите строку, где нужно указать API-ключ, и вставьте свой ключ.

    ```sh
    #!/bin/bash

    # --- НАСТРОЙКИ ---
    # Вставьте ваш API-ключ от Google AI Studio
    API_KEY="ВАШ_API_КЛЮЧ_СЮДА"
    
    # Имя файла базы данных
    DB_FILE="dict.db"
    
    # ... другие возможные настройки (модель, промпт и т.д.)
    ```

3.  Сохраните файл и запустите его из терминала:

    ```bash
    ./translate.sh
    ```
    
    > **Примечание:** Этот процесс может занять очень много времени, так как он отправляет тысячи запросов к API. Будьте готовы оставить скрипт работать на несколько часов или даже дней, в зависимости от размера словаря.

### Шаг 4: Конвертация обратно в Yomitan ZIP

Когда скрипт перевода завершит свою работу, у вас будет обновленный файл `dict.db` с переведенными статьями.

1.  Запустите скрипт `reverse.py` (в вашем примере, или `export_yomitan.py`, если вы используете предоставленный ранее код), чтобы собрать базу данных обратно в ZIP-архив.

    ```bash
    # Команда из вашего примера:
    python reverse.py dict.db -o MyTranslatedDict.zip
    
    # Если используете скрипт из нашего диалога, команда может быть такой:
    python export_yomitan.py dict.db -o MyTranslatedDict.zip -t "Мой переведенный словарь"
    ```
    
    *   `dict.db` — это ваша обновленная база данных.
    *   `-o MyTranslatedDict.zip` — имя итогового файла для Yomitan.
    *   `-t "Мой переведенный словарь"` — (опционально) название словаря, которое будет отображаться в настройках расширения.

2.  Готово! Файл `MyTranslatedDict.zip` можно импортировать в настройки Yomitan и использовать.
